<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>单词热 - 学习模式</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="tw.build.css">
    <style>
        .wechat-container {
            max-width: 375px;
            margin: 0 auto;
            background: #f7f7f7;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .wechat-statusbar {
            height: 44px;
            background: #000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            color: white;
            font-size: 14px;
        }
        .wechat-navbar {
            height: 44px;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
            border-bottom: 1px solid #e5e5e5;
        }
        .mode-card {
            transition: all 0.3s ease;
            transform: translateY(0);
        }
        .mode-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        .mode-card:active {
            transform: translateY(-2px);
        }
        .difficulty-badge {
            background: linear-gradient(45deg, #667eea, #764ba2);
        }
        .progress-ring {
            transform: rotate(-90deg);
        }
        .floating-icon {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 0 20px rgba(102, 126, 234, 0.3); }
            50% { box-shadow: 0 0 30px rgba(102, 126, 234, 0.6); }
        }
        .slide-in {
            animation: slideIn 0.5s ease-out forwards;
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="wechat-container">
        <!-- 状态栏 -->
        <div class="wechat-statusbar">
            <span>9:41</span>
            <span>学习模式</span>
            <div class="flex items-center space-x-1">
                <i class="fas fa-signal text-xs"></i>
                <i class="fas fa-wifi text-xs"></i>
                <i class="fas fa-battery-three-quarters text-xs"></i>
            </div>
        </div>

        <!-- 导航栏 -->
        <div class="wechat-navbar">
            <button class="text-gray-600" onclick="safeBack('home.html')">
                <i class="fas fa-arrow-left text-lg"></i>
            </button>
            <span class="font-semibold text-gray-800">选择学习方式</span>
            <button class="text-gray-600">
                <i class="fas fa-question-circle text-lg"></i>
            </button>
        </div>

        <!-- 词库信息 -->
        <div class="bg-white mx-4 mt-4 rounded-xl p-4 shadow-sm">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center">
                        <i class="fas fa-book text-white text-xl"></i>
                    </div>
                    <div>
                        <h3 id="libName" class="font-semibold text-gray-800">中考必备词汇</h3>
                        <p class="text-sm text-gray-500">共 1500 个单词</p>
                    </div>
                </div>
                <div class="text-right">
                    <div class="text-sm font-semibold text-blue-600">已学 320</div>
                    <div class="text-xs text-gray-500">剩余 1180</div>
                </div>
            </div>
            <div class="mt-3">
                <div class="flex justify-between text-xs text-gray-500 mb-1">
                    <span>学习进度</span>
                    <span>21%</span>
                </div>
                <div class="progress-brand"><div class="progress-brand-inner" style="width:21%"></div></div>
            </div>
        </div>

        <!-- 学习模式列表 -->
        <div class="px-4 py-6 space-y-4">
            <!-- 卡片模式 -->
            <div class="mode-card bg-white rounded-xl p-4 shadow-sm slide-in" style="animation-delay: 0.1s" onclick="selectMode('flashcard')">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl flex items-center justify-center floating-icon">
                            <i class="fas fa-clone text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 text-lg">卡片模式</h3>
                            <p class="text-sm text-gray-500">翻转卡片记忆单词</p>
                            <div class="flex items-center space-x-2 mt-1">
                                <span class="difficulty-badge text-white text-xs px-2 py-1 rounded-full">推荐</span>
                                <span class="text-xs text-gray-400">• 适合初学者</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-semibold text-green-600">85%</div>
                        <div class="text-xs text-gray-400">掌握率</div>
                        <i class="fas fa-chevron-right text-gray-300 mt-2"></i>
                    </div>
                </div>
            </div>

            <!-- 选择题模式 -->
            <div class="mode-card bg-white rounded-xl p-4 shadow-sm slide-in" style="animation-delay: 0.2s" onclick="selectMode('quiz')">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-14 h-14 bg-gradient-to-br from-green-500 to-green-600 rounded-xl flex items-center justify-center floating-icon" style="animation-delay: 0.5s">
                            <i class="fas fa-check-circle text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 text-lg">选择题模式</h3>
                            <p class="text-sm text-gray-500">四选一测试理解</p>
                            <div class="flex items-center space-x-2 mt-1">
                                <span class="bg-green-100 text-green-600 text-xs px-2 py-1 rounded-full">简单</span>
                                <span class="text-xs text-gray-400">• 快速检测</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-semibold text-green-600">92%</div>
                        <div class="text-xs text-gray-400">正确率</div>
                        <i class="fas fa-chevron-right text-gray-300 mt-2"></i>
                    </div>
                </div>
            </div>

            <!-- 拼写模式 -->
            <div class="mode-card bg-white rounded-xl p-4 shadow-sm slide-in" style="animation-delay: 0.3s" onclick="selectMode('spelling')">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-14 h-14 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center floating-icon" style="animation-delay: 1s">
                            <i class="fas fa-keyboard text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 text-lg">拼写模式</h3>
                            <p class="text-sm text-gray-500">键盘输入练拼写</p>
                            <div class="flex items-center space-x-2 mt-1">
                                <span class="bg-orange-100 text-orange-600 text-xs px-2 py-1 rounded-full">中等</span>
                                <span class="text-xs text-gray-400">• 强化记忆</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-semibold text-orange-600">78%</div>
                        <div class="text-xs text-gray-400">准确率</div>
                        <i class="fas fa-chevron-right text-gray-300 mt-2"></i>
                    </div>
                </div>
            </div>

            <!-- 听写模式 -->
            <div class="mode-card bg-white rounded-xl p-4 shadow-sm slide-in" style="animation-delay: 0.4s" onclick="selectMode('listening')">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-14 h-14 bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl flex items-center justify-center floating-icon" style="animation-delay: 1.5s">
                            <i class="fas fa-headphones text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 text-lg">听写模式</h3>
                            <p class="text-sm text-gray-500">听音频写单词</p>
                            <div class="flex items-center space-x-2 mt-1">
                                <span class="bg-purple-100 text-purple-600 text-xs px-2 py-1 rounded-full">困难</span>
                                <span class="text-xs text-gray-400">• 提升听力</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-semibold text-purple-600">65%</div>
                        <div class="text-xs text-gray-400">完成率</div>
                        <i class="fas fa-chevron-right text-gray-300 mt-2"></i>
                    </div>
                </div>
            </div>

            <!-- 混合模式 -->
            <div class="mode-card bg-white rounded-xl p-4 shadow-sm slide-in pulse-glow" style="animation-delay: 0.5s" onclick="selectMode('mixed')">
                <div class="flex items-center justify-between">
                    <div class="flex items-center space-x-4">
                        <div class="w-14 h-14 bg-gradient-to-br from-pink-500 to-red-500 rounded-xl flex items-center justify-center floating-icon" style="animation-delay: 2s">
                            <i class="fas fa-magic text-white text-xl"></i>
                        </div>
                        <div>
                            <h3 class="font-semibold text-gray-800 text-lg">智能混合</h3>
                            <p class="text-sm text-gray-500">AI自适应学习</p>
                            <div class="flex items-center space-x-2 mt-1">
                                <span class="bg-gradient-to-r from-pink-500 to-red-500 text-white text-xs px-2 py-1 rounded-full">智能</span>
                                <span class="text-xs text-gray-400">• 个性化推荐</span>
                            </div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="text-sm font-semibold text-pink-600">NEW</div>
                        <div class="text-xs text-gray-400">最新功能</div>
                        <i class="fas fa-chevron-right text-gray-300 mt-2"></i>
                    </div>
                </div>
            </div>
        </div>

        <!-- 学习设置 -->
        <div class="px-4 pb-6">
            <div class="bg-white rounded-xl p-4 shadow-sm">
                <h3 class="font-semibold text-gray-800 mb-3 flex items-center">
                    <i class="fas fa-cog text-gray-500 mr-2"></i>
                    学习设置
                </h3>
                <div class="space-y-3">
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-gray-600">每次学习数量</span>
                        <select id="wordCountSelect" class="text-sm bg-gray-100 rounded-lg px-3 py-1 border-none outline-none">
                            <option value="10">10个单词</option>
                            <option value="20" selected>20个单词</option>
                            <option value="30">30个单词</option>
                            <option value="50">50个单词</option>
                        </select>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-gray-600">发音语速</span>
                        <select class="text-sm bg-gray-100 rounded-lg px-3 py-1 border-none outline-none">
                            <option>慢速</option>
                            <option selected>正常</option>
                            <option>快速</option>
                        </select>
                    </div>
                    <div class="flex items-center justify-between">
                        <span class="text-sm text-gray-600">自动播放发音</span>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"></div>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 开始学习按钮 -->
            <div class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4">
                <div class="max-w-sm mx-auto">
                <button class="w-full btn-brand py-4 rounded-xl font-semibold text-lg shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50" id="startBtn" disabled>
                    <i class="fas fa-play mr-2"></i>
                    开始学习
                </button>
                <p class="text-center text-xs text-gray-400 mt-2">请先选择一种学习模式</p>
                </div>
            </div>
    </div>

        <script>
            let selectedMode = null;
            
            // 安全返回（无历史记录时回到首页）
            function safeBack(fallbackUrl) {
                if (document.referrer && document.referrer !== window.location.href) {
                    history.back();
                } else {
                    window.location.href = fallbackUrl || 'home.html';
                }
            }
        
        function selectMode(mode) {
            // 移除之前的选中状态
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('ring-2', 'ring-blue-500', 'bg-blue-50');
            });
            
            // 添加选中状态
            event.currentTarget.classList.add('ring-2', 'ring-blue-500', 'bg-blue-50');
            selectedMode = mode;
            
            // 启用开始按钮
            const startBtn = document.getElementById('startBtn');
            startBtn.disabled = false;
            startBtn.innerHTML = `<i class="fas fa-play mr-2"></i>开始${getModeText(mode)}`;
            
            // 更新提示文字
            document.querySelector('.fixed p').textContent = `已选择${getModeText(mode)}，点击开始学习`;
            
            // 添加点击反馈
            event.currentTarget.style.transform = 'scale(0.98)';
            setTimeout(() => {
                event.currentTarget.style.transform = '';
            }, 150);
        }
        
        function getModeText(mode) {
            const modeTexts = {
                'flashcard': '卡片模式',
                'quiz': '选择题模式',
                'spelling': '拼写模式',
                'listening': '听写模式',
                'mixed': '智能混合模式'
            };
            return modeTexts[mode] || '学习';
        }
        
        // 开始学习按钮点击事件
        document.getElementById('startBtn').addEventListener('click', function() {
            if (!selectedMode) return;
            
            // 添加加载动画
            this.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i>正在准备...';
            this.disabled = true;
            
            // 模拟跳转到对应的学习页面
            setTimeout(() => {
                const lib = document.getElementById('libName')?.textContent?.trim() || '中考必备词汇';
                const total = document.getElementById('wordCountSelect')?.value || '20';
                const params = `?mode=${selectedMode}&lib=${encodeURIComponent(lib)}&total=${encodeURIComponent(total)}`;
                switch(selectedMode) {
                    case 'flashcard':
                        window.location.href = 'learning.html' + params;
                        break;
                    case 'quiz':
                        window.location.href = 'learning-quiz.html' + params;
                        break;
                    case 'spelling':
                        window.location.href = 'learning-spelling.html' + params;
                        break;
                    case 'listening':
                        window.location.href = 'learning-dictation.html' + params;
                        break;
                    case 'mixed':
                        window.location.href = 'learning-mixed.html' + params;
                        break;
                }
            }, 1500);
        });
        
        // 添加页面加载动画
        window.addEventListener('load', function() {
            const cards = document.querySelectorAll('.slide-in');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.style.opacity = '1';
                    card.style.transform = 'translateX(0)';
                }, index * 100);
            });
        });
        
        // 设置项变更事件
        document.querySelectorAll('select').forEach(select => {
            select.addEventListener('change', function() {
                // 添加变更反馈
                this.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
            });
        });
        
        // 开关切换事件
        document.querySelector('input[type="checkbox"]').addEventListener('change', function() {
            const label = this.parentElement;
            label.style.transform = 'scale(1.1)';
            setTimeout(() => {
                label.style.transform = '';
            }, 200);
        });
    </script>
</body>
</html>
