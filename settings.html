<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>单词热 - 设置</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="styles.css">
  <style>
    .c{max-width:375px;margin:0 auto;background:#f7f7f7;min-height:100vh;box-shadow:0 0 20px rgba(0,0,0,0.1)}
    .s{height:44px;background:#000;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:0 15px;font-size:14px}
    .n{height:44px;background:#fff;display:flex;align-items:center;justify-content:space-between;padding:0 15px;border-bottom:1px solid #e5e5e5}
  </style>
</head>
<body class="bg-gray-100">
  <div class="c">
    <div class="s"><span>9:41</span><span>设置</span><span><i class="fas fa-signal text-xs"></i> <i class="fas fa-wifi text-xs"></i> <i class="fas fa-battery-three-quarters text-xs"></i></span></div>
    <div class="n"><button class="text-gray-600" onclick="safeBack('learning-main.html')"><i class="fas fa-arrow-left text-lg"></i></button><span class="font-semibold text-gray-800">设置中心</span><div class="w-6"></div></div>
    <div class="px-4 py-4">
      <div class="card-brand p-4 mb-4">
        <div class="flex items-center justify-between mb-2"><div class="flex items-center"><i class="fas fa-bullseye text-brand mr-2"></i><span class="font-semibold">每次学习数量</span></div><span id="countText">10 个</span></div>
        <div class="grid grid-cols-5 gap-2"><button class="chip" onclick="setCount(5)">5</button><button class="chip" onclick="setCount(10)">10</button><button class="chip" onclick="setCount(15)">15</button><button class="chip" onclick="setCount(20)">20</button><button class="chip" onclick="setCount(30)">30</button></div>
      </div>
      <div class="card-brand p-4 mb-4">
        <div class="flex items-center justify-between mb-2"><div class="flex items-center"><i class="fas fa-wave-square text-brand mr-2"></i><span class="font-semibold">发音语速</span></div><span id="rateText">1.0x</span></div>
        <input id="rate" type="range" min="0.5" max="1.5" step="0.1" value="1.0" class="w-full" oninput="setRate(this.value)">
      </div>
      <div class="card-brand p-4 mb-4">
        <div class="flex items-center justify-between"><div class="flex items-center"><i class="fas fa-volume-up text-brand mr-2"></i><span class="font-semibold">自动播放发音</span></div><label class="inline-flex items-center"><input type="checkbox" id="auto" class="mr-2" onchange="setAuto(this.checked)"><span class="text-gray-700">开启</span></label></div>
      </div>
      <div class="fixed-bottom"><button class="btn-brand w-full" onclick="save()"><i class="fas fa-save mr-2"></i>保存设置</button></div>
    </div>
  </div>
  <script>
    function safeBack(u){if(document.referrer&&document.referrer!==window.location.href){history.back()}else{window.location.href=u||'learning-main.html'}}
    function load(){const s=JSON.parse(localStorage.getItem('learningSettings')||'{}');const c=s.wordCount||10;const r=s.speechSpeed||1.0;const a=!!s.autoPlay;document.getElementById('countText').textContent=c+' 个';document.getElementById('rate').value=r;document.getElementById('rateText').textContent=r+'x';document.getElementById('auto').checked=a}
    function setCount(v){document.getElementById('countText').textContent=v+' 个';localStorage.setItem('learningSettings',JSON.stringify({...JSON.parse(localStorage.getItem('learningSettings')||'{}'),wordCount:v}))}
    function setRate(v){document.getElementById('rateText').textContent=parseFloat(v).toFixed(1)+'x';localStorage.setItem('learningSettings',JSON.stringify({...JSON.parse(localStorage.getItem('learningSettings')||'{}'),speechSpeed:parseFloat(v)}))}
    function setAuto(v){localStorage.setItem('learningSettings',JSON.stringify({...JSON.parse(localStorage.getItem('learningSettings')||'{}'),autoPlay:!!v}))}
    function save(){alert('设置已保存');safeBack('learning-main.html')}
    load()
  </script>
</body>
</html>

