<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>单词热 - 学习中心</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="tw.build.css">
    <style>
        .wechat-container {
            max-width: 375px;
            margin: 0 auto;
            background: #f7f7f7;
            min-height: 100vh;
            position: relative;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        .wechat-statusbar {
            height: 44px;
            background: #000;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 15px;
            color: white;
            font-size: 14px;
        }
        .wechat-navbar {
            height: 44px;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            border-bottom: 1px solid #e5e5e5;
            position: relative;
        }
        .wechat-tabbar {
            height: 50px;
            background: #fff;
            border-top: 1px solid #e5e5e5;
            display: flex;
            position: fixed;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 375px;
            max-width: 375px;
        }
        .tab-item {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 10px;
            cursor: pointer;
            transition: color 0.3s;
        }
        .tab-item.active {
            color: #667eea;
        }
        .mode-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .mode-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        .mode-card.selected {
            transform: scale(0.98);
            box-shadow: 0 0 0 2px #667eea;
            background: #f0f4ff !important;
        }
        .floating-icon {
            animation: float 3s ease-in-out infinite;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-5px); }
        }
        .pulse-glow {
            animation: pulse-glow 2s ease-in-out infinite;
        }
        @keyframes pulse-glow {
            0%, 100% { box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3); }
            50% { box-shadow: 0 4px 25px rgba(102, 126, 234, 0.5); }
        }
        .slide-in {
            opacity: 0;
            transform: translateX(30px);
            transition: all 0.5s ease;
        }
        .slide-in.visible {
            opacity: 1;
            transform: translateX(0);
        }
        .continue-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }
        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4);
        }
        .quick-stats {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="wechat-container">
        <!-- 状态栏 -->
        <div class="wechat-statusbar">
            <span>9:41</span>
            <span>单词热</span>
            <div class="flex items-center space-x-1">
                <i class="fas fa-signal text-xs"></i>
                <i class="fas fa-wifi text-xs"></i>
                <i class="fas fa-battery-three-quarters text-xs"></i>
            </div>
        </div>

        <!-- 导航栏 -->
        <div class="wechat-navbar">
            <button class="absolute left-4 text-gray-600" onclick="safeBack('home.html')">
                <i class="fas fa-arrow-left text-lg"></i>
            </button>
            <span class="font-semibold text-gray-800">学习中心</span>
            <button class="absolute right-4 text-gray-600" onclick="showSettings()">
                <i class="fas fa-cog text-lg"></i>
            </button>
        </div>

        <!-- 主要内容 -->
        <div class="flex-1 px-4 py-6 pb-24">
            <!-- 欢迎区域 -->
            <div class="bg-gradient-to-r from-purple-500 to-pink-500 rounded-3xl p-6 mb-6 text-white relative overflow-hidden">
                <!-- 装饰性背景元素 -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-white bg-opacity-10 rounded-full -translate-y-16 translate-x-16"></div>
                <div class="absolute bottom-0 left-0 w-24 h-24 bg-white bg-opacity-10 rounded-full translate-y-12 -translate-x-12"></div>
                
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-4">
                        <div>
                            <h2 class="text-2xl font-bold mb-1">继续学习</h2>
                            <p class="text-white text-opacity-90">今天还差8个单词就完成目标了！</p>
                        </div>
                        <div class="w-16 h-16 bg-white bg-opacity-20 rounded-full flex items-center justify-center">
                            <i class="fas fa-fire text-3xl text-orange-300 animate-pulse"></i>
                        </div>
                    </div>
                    
                    <!-- 进度条 -->
                    <div class="mb-4">
                        <div class="flex justify-between text-sm mb-2">
                            <span>今日进度</span>
                            <span>12/20 词</span>
                        </div>
                        <div class="w-full bg-white bg-opacity-20 rounded-full h-3 relative overflow-hidden">
                            <div class="bg-gradient-to-r from-yellow-400 to-orange-500 h-3 rounded-full transition-all duration-700" style="width: 60%">
                                <div class="absolute inset-0 bg-white bg-opacity-30 animate-pulse rounded-full"></div>
                            </div>
                        </div>
                    </div>
                    
                    <button class="w-full btn-brand text-white py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 continue-btn">
                        <i class="fas fa-play mr-2"></i>
                        继续学习
                    </button>
                </div>
            </div>

            <!-- 学习模式选择 -->
            <div class="mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-gamepad text-purple-500 mr-2"></i>
                    选择学习模式
                </h3>
                <div class="grid grid-cols-2 gap-3">
                    <!-- 卡片学习 -->
                    <div class="mode-card bg-gradient-to-br from-blue-400 to-blue-600 rounded-2xl p-4 text-white relative overflow-hidden group cursor-pointer transform hover:scale-105 transition-all duration-300 border border-white/20" data-mode="flashcard">
                        <div class="absolute top-0 right-0 w-20 h-20 bg-white bg-opacity-10 rounded-full -translate-y-10 translate-x-10"></div>
                        <div class="relative z-10">
                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mb-3">
                                <i class="fas fa-cards-blank text-2xl"></i>
                            </div>
                            <h4 class="font-bold mb-1">卡片学习</h4>
                            <p class="text-sm text-white text-opacity-90">图像记忆法</p>
                            <div class="mt-3 flex items-center">
                                <div class="flex -space-x-1">
                                    <div class="w-6 h-6 bg-yellow-400 rounded-full border-2 border-white flex items-center justify-center">
                                        <i class="fas fa-star text-xs text-white"></i>
                                    </div>
                                    <div class="w-6 h-6 bg-green-400 rounded-full border-2 border-white flex items-center justify-center">
                                        <i class="fas fa-trophy text-xs text-white"></i>
                                    </div>
                                </div>
                                <span class="text-xs ml-2">+15 EXP</span>
                            </div>
                        </div>
                    </div>

                    <!-- 选择题模式 -->
                    <div class="mode-card bg-gradient-to-br from-green-400 to-green-600 rounded-2xl p-4 text-white relative overflow-hidden group cursor-pointer transform hover:scale-105 transition-all duration-300 border border-white/20" data-mode="quiz">
                        <div class="absolute top-0 right-0 w-20 h-20 bg-white bg-opacity-10 rounded-full -translate-y-10 translate-x-10"></div>
                        <div class="relative z-10">
                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mb-3">
                                <i class="fas fa-check-circle text-2xl"></i>
                            </div>
                            <h4 class="font-bold mb-1">选择题</h4>
                            <p class="text-sm text-white text-opacity-90">快速测试</p>
                            <div class="mt-3 flex items-center">
                                <div class="flex -space-x-1">
                                    <div class="w-6 h-6 bg-blue-400 rounded-full border-2 border-white flex items-center justify-center">
                                        <i class="fas fa-lightning-bolt text-xs text-white"></i>
                                    </div>
                                </div>
                                <span class="text-xs ml-2">+10 EXP</span>
                            </div>
                        </div>
                    </div>

                    <!-- 拼写练习 -->
                    <div class="mode-card bg-gradient-to-br from-orange-400 to-orange-600 rounded-2xl p-4 text-white relative overflow-hidden group cursor-pointer transform hover:scale-105 transition-all duration-300 border border-white/20" data-mode="spelling">
                        <div class="absolute top-0 right-0 w-20 h-20 bg-white bg-opacity-10 rounded-full -translate-y-10 translate-x-10"></div>
                        <div class="relative z-10">
                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mb-3">
                                <i class="fas fa-keyboard text-2xl"></i>
                            </div>
                            <h4 class="font-bold mb-1">拼写练习</h4>
                            <p class="text-sm text-white text-opacity-90">强化记忆</p>
                            <div class="mt-3 flex items-center">
                                <div class="flex -space-x-1">
                                    <div class="w-6 h-6 bg-purple-400 rounded-full border-2 border-white flex items-center justify-center">
                                        <i class="fas fa-pen text-xs text-white"></i>
                                    </div>
                                </div>
                                <span class="text-xs ml-2">+20 EXP</span>
                            </div>
                        </div>
                    </div>

                    <!-- 听写模式 -->
                    <div class="mode-card bg-gradient-to-br from-purple-400 to-purple-600 rounded-2xl p-4 text-white relative overflow-hidden group cursor-pointer transform hover:scale-105 transition-all duration-300 border border-white/20" data-mode="listening">
                        <div class="absolute top-0 right-0 w-20 h-20 bg-white bg-opacity-10 rounded-full -translate-y-10 translate-x-10"></div>
                        <div class="relative z-10">
                            <div class="w-12 h-12 bg-white bg-opacity-20 rounded-xl flex items-center justify-center mb-3">
                                <i class="fas fa-headphones text-2xl"></i>
                            </div>
                            <h4 class="font-bold mb-1">听写模式</h4>
                            <p class="text-sm text-white text-opacity-90">听力训练</p>
                            <div class="mt-3 flex items-center">
                                <div class="flex -space-x-1">
                                    <div class="w-6 h-6 bg-red-400 rounded-full border-2 border-white flex items-center justify-center">
                                        <i class="fas fa-volume-up text-xs text-white"></i>
                                    </div>
                                </div>
                                <span class="text-xs ml-2">+25 EXP</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 学习设置 -->
            <div class="mb-6">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-cog text-purple-500 mr-2"></i>
                    学习设置
                </h3>
                <div class="bg-white rounded-2xl shadow-lg p-4 space-y-4">
                    <!-- 每日目标 -->
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center mr-3">
                                <i class="fas fa-target text-blue-600"></i>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">每日目标</p>
                                <p class="text-sm text-gray-600">20个新单词</p>
                            </div>
                        </div>
                        <button class="text-purple-500 font-semibold">调整</button>
                    </div>

                    <!-- 提醒设置 -->
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-green-100 rounded-xl flex items-center justify-center mr-3">
                                <i class="fas fa-bell text-green-600"></i>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">学习提醒</p>
                                <p class="text-sm text-gray-600">每天19:00</p>
                            </div>
                        </div>
                        <div class="w-12 h-6 bg-green-500 rounded-full relative">
                            <div class="w-5 h-5 bg-white rounded-full absolute right-0.5 top-0.5 shadow-sm"></div>
                        </div>
                    </div>

                    <!-- 难度设置 -->
                    <div class="flex items-center justify-between">
                        <div class="flex items-center">
                            <div class="w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center mr-3">
                                <i class="fas fa-chart-line text-orange-600"></i>
                            </div>
                            <div>
                                <p class="font-semibold text-gray-800">学习难度</p>
                                <p class="text-sm text-gray-600">中等</p>
                            </div>
                        </div>
                        <button class="text-purple-500 font-semibold">调整</button>
                    </div>
                </div>
            </div>

            <!-- 学习统计 -->
            <div>
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-chart-bar text-purple-500 mr-2"></i>
                    学习统计
                </h3>
                <div class="grid grid-cols-2 gap-4">
                    <!-- 本周学习 -->
                    <div class="bg-gradient-to-br from-indigo-400 to-indigo-600 rounded-2xl p-4 text-white">
                        <div class="flex items-center justify-between mb-2">
                            <i class="fas fa-calendar-week text-2xl"></i>
                            <span class="text-xs bg-white bg-opacity-20 px-2 py-1 rounded-full">本周</span>
                        </div>
                        <p class="text-2xl font-bold">142</p>
                        <p class="text-sm text-white text-opacity-90">学习单词</p>
                    </div>

                    <!-- 掌握率 -->
                    <div class="bg-gradient-to-br from-teal-400 to-teal-600 rounded-2xl p-4 text-white">
                        <div class="flex items-center justify-between mb-2">
                            <i class="fas fa-brain text-2xl"></i>
                            <span class="text-xs bg-white bg-opacity-20 px-2 py-1 rounded-full">掌握</span>
                        </div>
                        <p class="text-2xl font-bold">85%</p>
                        <p class="text-sm text-white text-opacity-90">正确率</p>
                    </div>

                    <!-- 连续学习 -->
                    <div class="bg-gradient-to-br from-pink-400 to-pink-600 rounded-2xl p-4 text-white">
                        <div class="flex items-center justify-between mb-2">
                            <i class="fas fa-fire text-2xl"></i>
                            <span class="text-xs bg-white bg-opacity-20 px-2 py-1 rounded-full">连击</span>
                        </div>
                        <p class="text-2xl font-bold">7</p>
                        <p class="text-sm text-white text-opacity-90">连续天数</p>
                    </div>

                    <!-- 总词汇量 -->
                    <div class="bg-gradient-to-br from-amber-400 to-amber-600 rounded-2xl p-4 text-white">
                        <div class="flex items-center justify-between mb-2">
                            <i class="fas fa-book text-2xl"></i>
                            <span class="text-xs bg-white bg-opacity-20 px-2 py-1 rounded-full">总计</span>
                        </div>
                        <p class="text-2xl font-bold">1,248</p>
                        <p class="text-sm text-white text-opacity-90">词汇量</p>
                    </div>
                </div>
            </div>
            <div class="mt-6 mb-24">
                <h3 class="text-xl font-bold text-gray-800 mb-4 flex items-center">
                    <i class="fas fa-bolt text-indigo-500 mr-2"></i>
                    快捷入口
                </h3>
                <div class="grid grid-cols-3 gap-3">
                    <button class="bg-white rounded-2xl p-4 shadow-md border border-gray-100 text-center transition transform hover:scale-105 hover:shadow-lg" onclick="window.location.href='study-plan.html'">
                        <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-calendar-alt text-brand"></i>
                        </div>
                        <div class="font-semibold text-gray-800">学习计划</div>
                        <div class="text-xs text-gray-500 mt-1">目标与每日新词</div>
                    </button>
                    <button class="bg-white rounded-2xl p-4 shadow-md border border-gray-100 text-center transition transform hover:scale-105 hover:shadow-lg" onclick="window.location.href='word-book.html'">
                        <div class="w-10 h-10 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-bookmark text-brand"></i>
                        </div>
                        <div class="font-semibold text-gray-800">生词本</div>
                        <div class="text-xs text-gray-500 mt-1">收藏与复习</div>
                    </button>
                    <button class="bg-white rounded-2xl p-4 shadow-md border border-gray-100 text-center transition transform hover:scale-105 hover:shadow-lg" onclick="window.location.href='stats-overview.html'">
                        <div class="w-10 h-10 bg-teal-100 rounded-full flex items-center justify-center mx-auto mb-3">
                            <i class="fas fa-chart-pie text-teal-600"></i>
                        </div>
                        <div class="font-semibold text-gray-800">学习统计</div>
                        <div class="text-xs text-gray-500 mt-1">本周趋势</div>
                    </button>
                </div>
            </div>
        </div>

        <!-- 底部标签栏 -->
        <div class="wechat-tabbar">
            <div class="tab-item" onclick="navigateToTab('home')">
                <i class="fas fa-home text-lg mb-1"></i>
                <span>首页</span>
            </div>
            <div class="tab-item active" onclick="navigateToTab('learn')">
                <i class="fas fa-graduation-cap text-lg mb-1"></i>
                <span>学习</span>
            </div>
            <div class="tab-item" onclick="navigateToTab('library')">
                <i class="fas fa-book text-lg mb-1"></i>
                <span>词库</span>
            </div>
            <div class="tab-item" onclick="navigateToTab('profile')">
                <i class="fas fa-user text-lg mb-1"></i>
                <span>我的</span>
            </div>
        </div>
    </div>

    <script>
        let selectedMode = null;
        
        function safeBack(fallbackUrl) {
            if (document.referrer && document.referrer !== window.location.href) {
                history.back();
            } else {
                window.location.href = fallbackUrl || 'home.html';
            }
        }
        
        // 页面加载动画
        window.addEventListener('load', function() {
            const cards = document.querySelectorAll('.slide-in');
            cards.forEach((card, index) => {
                setTimeout(() => {
                    card.classList.add('visible');
                }, index * 100);
            });
        });

        // 学习模式选择
        document.querySelectorAll('.mode-card').forEach(card => {
            card.addEventListener('click', function() {
                const mode = this.dataset.mode;
                selectMode(mode, this);
            });
        });

        function selectMode(mode, element) {
            // 移除之前的选中状态
            document.querySelectorAll('.mode-card').forEach(card => {
                card.classList.remove('selected');
            });
            
            // 添加选中状态
            element.classList.add('selected');
            selectedMode = mode;
            
            // 添加点击反馈
            element.style.transform = 'scale(0.95)';
            setTimeout(() => {
                element.style.transform = '';
                // 延迟跳转到对应的学习页面
                setTimeout(() => {
                    startLearning(mode);
                }, 300);
            }, 150);
        }

        function startLearning(mode) {
            // 显示加载提示
            showLoadingToast('正在准备学习内容...');
            
            // 模拟跳转到对应的学习页面
            setTimeout(() => {
                const lib = '中考必备词汇';
                const total = '20';
                const params = `?mode=${mode}&lib=${encodeURIComponent(lib)}&total=${encodeURIComponent(total)}`;
                switch(mode) {
                    case 'flashcard':
                        window.location.href = 'learning.html' + params;
                        break;
                    case 'quiz':
                        window.location.href = 'learning-quiz.html' + params;
                        break;
                    case 'spelling':
                        window.location.href = 'learning-spelling.html' + params;
                        break;
                    case 'listening':
                        window.location.href = 'learning-dictation.html' + params;
                        break;
                    case 'mixed':
                        window.location.href = 'learning-mixed.html' + params;
                        break;
                    default:
                        window.location.href = 'learning-modes.html';
                }
            }, 1000);
        }

        // 继续学习按钮
        document.querySelector('.continue-btn').addEventListener('click', function() {
            this.style.transform = 'scale(0.98)';
            setTimeout(() => {
                this.style.transform = '';
                startLearning('flashcard'); // 继续上次的学习模式
            }, 150);
        });

        // 设置项变更事件
        document.querySelectorAll('select').forEach(select => {
            select.addEventListener('change', function() {
                this.style.transform = 'scale(1.05)';
                setTimeout(() => {
                    this.style.transform = '';
                }, 200);
                saveSettings();
            });
        });

        // 开关切换事件
        document.querySelector('#autoPlay').addEventListener('change', function() {
            const label = this.parentElement;
            label.style.transform = 'scale(1.1)';
            setTimeout(() => {
                label.style.transform = '';
            }, 200);
            saveSettings();
        });

        // 保存设置
        function saveSettings() {
            const settings = {
                wordCount: document.getElementById('wordCount').value,
                speechSpeed: document.getElementById('speechSpeed').value,
                autoPlay: document.getElementById('autoPlay').checked
            };
            localStorage.setItem('learningSettings', JSON.stringify(settings));
        }

        // 加载设置
        function loadSettings() {
            const settings = JSON.parse(localStorage.getItem('learningSettings') || '{}');
            if (settings.wordCount) document.getElementById('wordCount').value = settings.wordCount;
            if (settings.speechSpeed) document.getElementById('speechSpeed').value = settings.speechSpeed;
            if (settings.autoPlay !== undefined) document.getElementById('autoPlay').checked = settings.autoPlay;
        }

        // 显示加载提示
        function showLoadingToast(message) {
            const toast = document.createElement('div');
            toast.className = 'fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black/80 text-white px-6 py-3 rounded-lg z-50';
            toast.innerHTML = `<i class="fas fa-spinner fa-spin mr-2"></i>${message}`;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                document.body.removeChild(toast);
            }, 3000);
        }

        // 切换词库
        function changeWordbook() {
            showLoadingToast('正在加载词库列表...');
            setTimeout(() => {
                window.location.href = 'word-library.html';
            }, 1000);
        }

        // 显示设置
        function showSettings() {
            showLoadingToast('正在打开设置...');
            setTimeout(() => {
                window.location.href = 'settings.html';
            }, 1000);
        }

        // 标签栏导航
        function navigateToTab(tab) {
            const pages = {
                'home': 'home.html',
                'learn': 'learning-main.html',
                'library': 'word-library.html',
                'profile': 'profile.html'
            };
            
            if (pages[tab]) {
                window.location.href = pages[tab];
            }
        }

        // 初始化
        loadSettings();
    </script>
</body>
</html>
